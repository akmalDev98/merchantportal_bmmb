<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BMMB Merchant Portal - Transactions</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="../stylesheet/transaction.css"> <!-- Import the CSS file -->

    <!-- Add any additional stylesheets or scripts here -->
    <style>
        
     
    </style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">

    <img class="img-fluid mx-auto d-block rounded-image mb-4" src="../assets/new_bmmb_eng_logo.png">
    
    <a href="#" onclick="loadContent('sidebar_menu/homepage.html')">
        <div class="vertical-center">
            <img src="../assets/home.png" alt="Home Icon" width="20" height="20">
            <span class="ml-2">Home</span>
        </div>
    </a>

    <a href="#" class="active">
        <div class="vertical-center">
            <img src="../assets/transaction.png" alt="Transaction Icon" width="20" height="20">
            <span class="ml-2">Transactions</span>
        </div>
    </a>

    <a href="#">
        <div class="vertical-center">
            <img src="../assets/profile.png" alt="Profile Icon" width="20" height="20">
            <span class="ml-2">Profile</span>
        </div>
    </a>

    <a href="#">
        <div class="vertical-center">
            <img src="../assets/payment.png" alt="Payment Icon" width="20" height="20">
            <span class="ml-2">Payment Link</span>
        </div>
    </a>
    
</div>

<!-- Content -->
<div class="content">

    <!-- HEADER GRADIENT -->
    
    <div class="gradient-container">
        <!-- Search Input -->
        <input type="text" class="search-input" placeholder="Search...">

        <div class="container" style="flex: 1;"></div>

        <!-- Profile & Logout -->
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="../assets/profile.png" alt="Profile Icon" width="25" height="25" style="margin-right: 10px;">
                <span class="me-2">RaniaBoutique</span> <!-- Add spacing between text and icon -->
               
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
              <li><a class="dropdown-item" href="#">Logout</a></li>
            </ul>
        </div>

        
          
    </div>
   

   
    <!-- TITLE -->
    <div class="mt-5">
        <div class="row">
             <!-- TITLE -->
             <h4 style="color: #022F86; font-family: 'Montserrat', sans-serif; font-weight: bold; font-size: 32px; margin-left: 30px;">Bank Muamalat Merchant Portal</h4>
        </div>
    </div>

    <!-- Download Button-->
    <div class="mb-3 row justify-content-center" >
        <div class="col-9 text-center">
            
        </div>
        <div class="col-3 text-center">
            <button type="button" class="btn btn-outline-primary mr-2">Download</button>
        </div>

<!-- Filter Modal -->
<div class="modal fade" id="filterModal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="filterModalLabel">Filter Options</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!-- Add your filter options here -->
                <p>This is where your filter options go.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Apply Filters</button>
            </div>
        </div>
    </div>
</div>
    </div>



    
    
    <!-- PROFILE CONTAINER -->
    <div class="row">
        <div class="col-11">
            <div class="container mt-4 white-rounded-container" style="margin-left: 30px;padding: 15px;">
                <div class="mb-3 row justify-content" >
                    <div class="col-9 text-left">
                       <!-- Title: Personal Details -->
                        <h5 class="mt-2">Daily Transactions</h5> 
                    </div>

                    <div class="col-3 text-right">
                        <!-- Filter Button -->
                        <button class="btn btn-primary" data-toggle="modal" data-target="#filterModal">
                            Add Filter
                        </button>
                    </div>
                </div>
            
                <!-- Grey Line -->
                <hr class="mb-2">
            
                <!-- TABLE -->
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 white-rounded-container mt-4">
                            <table class="table table-hover">
                                <thead class="thead-light">
                                    <tr>
                                        <th style="padding: 20px">Merchant ID</th>
                                        <th style="padding: 20px">Terminal ID</th>
                                        <th style="padding: 20px">RRN</th>
                                        <th style="padding: 20px">Approval Code</th>
                                        <th style="padding: 20px">Amount</th>
                                        <th style="padding: 20px">Date-Time</th>
                                        <th style="padding: 20px">Status</th>
                                    </tr>
                                </thead>
                                <tbody id="transactionTableBody">
                                    <!-- Data will be dynamically added here using script -->
                                </tbody>
                            </table>

                            <!-- Pagination -->
                            <nav aria-label="Page navigation example">
                                <ul class="pagination">
                                    <li class="page-item">
                                        <a class="page-link" href="#" aria-label="Previous">
                                            <span aria-hidden="true">&laquo;</span>
                                        </a>
                                    </li>
                                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item">
                                        <a class="page-link" href="#" aria-label="Next">
                                            <span aria-hidden="true">&raquo;</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>  
                </div>

            </div>
        </div>

    </div>
    

    
    
</div>


<!-- ##################################################################################### -->
<!-- Script TABLE -->
<script>
    // Sample data, replace this with your actual data
    var transactions = [
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Rejected' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Processing' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Rejected' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Processing' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Processing' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Processing' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        { merchantId: 'M123', terminalId: 'T001', rrn: '123456789', approvalCode: '987654', amount: '$100.00', dateTime: '2023-01-01 12:00 PM', status: 'Approved' },
        // Add more data as needed
    ];

    // Function to dynamically populate the table
    function populateTable(pageNumber, pageSize) {
        var tableBody = document.getElementById('transactionTableBody');

        // Clear existing rows
        tableBody.innerHTML = '';

        var startIndex = (pageNumber - 1) * pageSize;
        var endIndex = startIndex + pageSize;
        var currentTransactions = transactions.slice(startIndex, endIndex);


        // Populate the table with data
        currentTransactions.forEach(function(transaction) {
            var row = tableBody.insertRow();
            //row.classList.add('text-center'); 

            var keys = Object.keys(transaction);

            keys.forEach(function(key) {
                if (key !== 'status') {
                    var cell = row.insertCell();
                    cell.textContent = transaction[key];

                    // Add padding to each cell
                    cell.style.padding = '20px';
                }
            });

            var statusCell = row.insertCell();
            statusCell.classList.add('text-center');
            var statusCircle = document.createElement('div');
            statusCircle.classList.add('status-circle');
            statusCircle.classList.add('mt-3');
            statusCircle.classList.add('mr-2')


            if (transaction.status.toLowerCase() === 'approved') {
                statusCircle.classList.add('status-approved');
            } else if (transaction.status.toLowerCase() === 'rejected') {
                statusCircle.classList.add('status-rejected');
            } else if (transaction.status.toLowerCase() === 'processing') {
                statusCircle.classList.add('status-processing');
            }

            statusCell.appendChild(statusCircle);

            var statusText = document.createElement('span');
            statusText.textContent = transaction.status;
            statusText.style.color = getComputedStyle(statusCircle).backgroundColor; // Set the text color to the background color of statusCircle
            statusCell.appendChild(statusText);
        });
    }

    // Call the function to initially populate the table
    populateTable(1, 15);

    // Function to handle page changes
    function changePage(pageNumber, pageSize) {
        populateTable(pageNumber, pageSize);
    }
</script>

<script>
    // Function to toggle the dropdown menu
    function toggleDropdown() {
        var logoutMenu = document.getElementById('logoutMenu');
        logoutMenu.style.display = (logoutMenu.style.display === 'none' || logoutMenu.style.display === '') ? 'block' : 'none';
    }
</script>
    

<!-- Bootstrap JS and Popper.js (required for Bootstrap components) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Add any additional scripts here -->

</body>
</html>
